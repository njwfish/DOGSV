{% extends "base.html" %}

{% block content %}
  <script type="text/javascript">
    function move_selected(from, to) {
      return !$(from + ' option:selected').remove().appendTo(to);
    };

    function select_all(box) {
      return !$(box + ' option').prop('selected', true);
    }

    $(document).ready( function() {
      $('#form-breed_exclude').dblclick( function(){move_selected('#form-breed_exclude', '#form-breed_include')} );
      $('#form-breed_include').dblclick( function(){move_selected('#form-breed_include', '#breed_exclude')} );
      $('#form-sample_exclude').dblclick( function(){move_selected('#form-sample_exclude', '#form-sample_include')} );
      $('#form-sample_include').dblclick( function(){move_selected('#form-sample_include', '#form-sample_exclude')} );
      $('#form-tool_exclude').dblclick( function(){move_selected('#form-tool_exclude', '#form-tool_include')} );
      $('#form-tool_include').dblclick( function(){move_selected('#form-tool_include', '#form-tool_exclude')} );
      $('#submit').click(function(){
        select_all('#form-breed_include');
        select_all('#form-sample_include');
        select_all('#form-tool_include');
      });
      //$('#cols-records_exclude').dblclick( function(){move_selected('#cols-records_exclude', '#cols-records_include')} );
      //$('#cols-records_include').dblclick( function(){move_selected('#cols-records_include', '#cols-records_exclude')} );
      //$('#cols-individuals_exclude').dblclick( function(){move_selected('#cols-individuals_exclude', '#cols-individuals_include')} );
      //$('#cols-individuals_include').dblclick( function(){move_selected('#cols-individuals_include', '#cols-individuals_exclude')} );
      //$('#cols-samples_exclude').dblclick( function(){move_selected('#cols-samples_exclude', '#cols-samples_include')} );
      //$('#cols-samples_include').dblclick( function(){move_selected('#cols-samples_include', '#cols-samples_exclude')} );
      //$('#cols-genotypes_exclude').dblclick( function(){move_selected('#cols-genotypes_exclude', '#cols-genotypes_include')} );
      //$('#cols-genotypes_include').dblclick( function(){move_selected('#cols-genotypes_include', '#cols-genotypes_exclude')} );
      $('#cols-openModal').click(function() {
        chooseCols.style.display = "block";
      });
      $('#cols-closeModal').click(function() {
        chooseCols.style.display = "none";
      });
    });
  </script>
  <h1>Builder</h1>
  <!-- Trigger/Open The Modal -->
  <button id="openModal" type="button">Open Modal</button>
  <!-- The Modal -->
  <div id="chooseCols" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <div class="container">
        <h2>Select Columns</h2>
        <ul class="nav nav-tabs">
          <li class="active"><a data-toggle="tab" href="#records">Records</a></li>
          <li><a data-toggle="tab" href="#individuals">Individuals</a></li>
          <li><a data-toggle="tab" href="#sampels">Samples</a></li>
          <li><a data-toggle="tab" href="#genotypes">Genotypes</a></li>
        </ul>

        <div class="tab-content">
          <div id="records" class="tab-pane fade in active">
            <div class="col-sm-4">
              <h5><center>Exclude</center></h5>
              <p>{{cols.records_exclude(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              <h5><center>Include</center></h5>
              <p> {{cols.records_include(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              
            </div>
          </div>
          <div id="individuals" class="tab-pane fade">
            <div class="col-sm-4">
              <h5><center>Exclude</center></h5>
              <p>{{cols.individuals_exclude(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              <h5><center>Include</center></h5>
              <p> {{cols.individuals_include(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              
            </div>
          </div>
          <div id="sampels" class="tab-pane fade">
            <div class="col-sm-4">
              <h5><center>Exclude</center></h5>
              <p>{{cols.samples_exclude(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              <h5><center>Include</center></h5>
              <p> {{cols.samples_include(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              
            </div>
          </div>
          <div id="genotypes" class="tab-pane fade">
            <div class="col-sm-4">
              <h5><center>Exclude</center></h5>
              <p>{{cols.genotypes_exclude(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              <h5><center>Include</center></h5>
              <p> {{cols.genotypes_include(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              
            </div>
          </div>
        </div>
      </div>
      <button id="closeModal" type="button">Close</button>
    </div>
  </div>
  <form action="" method="post" name="record">
    {{ form.hidden_tag() }}
    <div class="panel-group">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">
            <a data-toggle="collapse" href="#Record"><center>Record</center></a>
          </h4>
        </div>
        <div id="Record" class="panel-collapse collapse">
          <p>
            Chrmosome: {{ form.chrom(size=20) }}
          </p>
          <p>
            Range: {{ form.pos(size=12) }} to {{ form.pos2(size=12) }}
          </p>
          <p>
            Length: {{ form.len(size=8) }}
          </p>
          <p>
            Filter: {{ form.filter(size=20) }}
          </p>
          <p><center>{{ form.DEL }} DEL {{ form.DUP }} DUP {{ form.INS }} INS {{ form.INV }} INV {{ form.TRA }} TRA {{ form.SIN }} SIN {{ form.LIN }} LIN {{ form.BXP }} BXP</center></p>
        </div>
      </div>
    </div>
    <div class="panel-group">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">
            <a data-toggle="collapse" href="#Breed"><center>Breed</center></a>
          </h4>
        </div>
        <div id="Breed" class="panel-collapse collapse">
          <div class="row" style="padding:10px;">
            <div class="col-sm-4">
              <h5><center>Exclude</center></h5>
              <p>{{form.breed_exclude(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              <h5><center>Include</center></h5>
              <p> {{form.breed_include(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="panel-group">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">
            <a data-toggle="collapse" href="#Sample"><center>Sample</center></a>
          </h4>
        </div>
        <div id="Sample" class="panel-collapse collapse">
          <div class="row" style="padding:10px;">
            <div class="col-sm-4">
              <h5><center>Exclude</center></h5>
              <p>{{form.sample_exclude(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              <h5><center>Include</center></h5>
              <p> {{form.sample_include(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="panel-group">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">
            <a data-toggle="collapse" href="#Tool"><center>Tool</center></a>
          </h4>
        </div>
        <div id="Tool" class="panel-collapse collapse">
          <div class="row" style="padding:10px;">
            <div class="col-sm-4">
              <h5><center>Exclude</center></h5>
              <p>{{form.tool_exclude(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              <h5><center>Include</center></h5>
              <p> {{form.tool_include(style="width:100%;height:100px;")}}</p>
            </div>
            <div class="col-sm-4">
              
            </div>
          </div>
        </div>
      </div>
    </div>
    <p><input type="submit" value="Query" id="submit" name="submit"></p>
  </form>
{% endblock %}